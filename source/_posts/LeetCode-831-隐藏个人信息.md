---
title: LeetCode 831.隐藏个人信息
categories:
  - LeetCode
tags:
  - 构造
abbrlink: ccbe430
date: 2023-04-01 21:03:37
---

## **[831.隐藏个人信息](https://leetcode.cn/problems/masking-personal-information/)**

## 题面

![](https://cdn.jsdelivr.net/gh/zhangyufeng0123/ImageHosting/img/20230401204338.png)

![](https://cdn.jsdelivr.net/gh/zhangyufeng0123/ImageHosting/img/20230401204410.png)

## Sample

### Input1

```cpp
s = "LeetCode@LeetCode.com"
```

### Output1

```cpp
"l*****e@leetcode.com"
```

### Input2

```cpp
s = "1(234)567-890"
```

### Output2

```cpp
"***-***-7890"
```

### 提示

- `s` 是一个 **有效** 的电子邮件或者电话号码
- 如果 `s` 是一个电子邮件：
    - `8 <= s.length <= 40`
    - `s` 是由大小写英文字母，恰好一个 `'@'` 字符，以及 `'.'` 字符组成
- 如果 `s` 是一个电话号码：
    - `10 <= s.length <= 20`
    - `s` 是由数字、空格、字符 `'('`、`')'`、`'-'` 和 `'+'` 组成
    

## 思路

这是一道很简单的构造体，那么现在的问题就是应该怎么构造了。

首先，这个构造主要分为两种，一种是电子邮件，另一种是电话号码。

那么我们先来谈论怎么构造电子邮件：

题目的要求是让我们隐藏个人信息，即域名前面的自定义昵称给隐藏了。具体的是保留昵称的一头一尾，且要变成小写引文字母，其它位置都用“*****”表示，不管其头尾之间有多少个字符都用“*****”表示。处理完电子邮件的昵称部分，剩下的部分就简单了。我们只要将剩下的部分的大写字母变成小写字母即可，其它位置的字符不变。

构造电话号码：

题目的要求是根据电话号码的不同位数制定不同的开头，因此我们得先知道电话号码的位数。解决了位数我们就已经解决了隐藏完个人信息之后的电话号码的开头部分，末尾部分就是电话号码的后四位，这是固定的。

## 做法

这道题分为两种构造，我们得对不同的个人信息构造出不同的结果。因此**第一步**，我们得先判断这个个人信息是电子邮箱还是电话号码。根据提示我们得知，电话号码没有字母以及‘@’这个字符，因此我们只要根据所给字符串有没有’@’即可。这样我们既能判断是否是电子邮箱，也能确定‘@’的位置。

如果字符串存在‘@’，那么说明这个字符串是电子邮箱。由上面可知，我们确定了是电子邮箱的话我们就确定了‘@’字符的位置，这样我们就能确定昵称的一头一尾，那么我们就解决了构造隐藏个人信息字符串的昵称部分，注意将这一头一尾的字符大写变小写（如果字符是大写字母的话）。剩下部分我们只要遍历一遍即可，边遍历边判断是否是大写字母，如果是大写字母，那就把它变成小写，否则不变。

如果字符串不存在‘@’，那么说明这个字符串是电话号码。由上面可知，隐藏个人信息后的电话号码的开头部分是根据电话号码的位数而决定的，因此第一步就是确定电话号码的位数。确定完电话位数之后就确定目标字符串的开头，之后我们从后往前遍历个人信息字符串，获取最后**四个数字字符**，并把这四个数字字符加到末尾即可。

## 代码

```cpp
class Solution {
public:
    string maskPII(string s) {
        int flag = -1;
        for(int i = 0; i < s.size(); i++){
            if(s[i] == '@') {
                flag = i;
                break;
            }
        }

        string res;
        if(flag != -1){
            if(s[0] >= 'A' && s[0] <= 'Z') res += s[0] + 32;
            else res += s[0];
            res += "*****";
            for(int i = flag - 1; i < s.size(); i++){
                if(s[i] >= 'A' && s[i] <= 'Z') res += s[i] + 32;
                else res += s[i];
            }
        }else{
            int nums = 0;
            for(int i = 0; i < s.size(); i++){
                if(s[i] >= '0' && s[i] <= '9') nums++;
            }
            switch(nums){
                case 11:
                    res += "+*-";
                    break;
                case 12:
                    res += "+**-";
                    break;
                case 13:
                    res += "+***-";
                    break;
            }
            res += "***-***-";
            string ans;
            for(int i = s.size() - 1; i >= 0; i--){
                if(s[i] >= '0' && s[i] <= '9' && ans.size() < 4){
                    ans += s[i];
                }
            }
            reverse(ans.begin(), ans.end());
            res += ans;
        }
        return res;
    }
};
```